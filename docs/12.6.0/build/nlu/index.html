<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>NLU · | Developer&#x27;s Guide</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## How it works"/><meta name="docsearch:version" content="12.6.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="NLU · | Developer&#x27;s Guide"/><meta property="og:type" content="website"/><meta property="og:url" content="https://Michael-N-M.github.io/botpress-docs/"/><meta property="og:description" content="## How it works"/><meta property="og:image" content="https://Michael-N-M.github.io/botpress-docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://Michael-N-M.github.io/botpress-docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/botpress-docs/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/hotjar.js"></script><script src="/botpress-docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/botpress-docs/css/main.css"/><script src="/botpress-docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/botpress-docs/"><img class="logo" src="/botpress-docs/img/botpress_icon.svg" alt="| Developer&#x27;s Guide"/><h2 class="headerTitleWithLogo">| Developer&#x27;s Guide</h2></a><a href="/botpress-docs/versions"><h3>12.6.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/botpress-docs/docs/12.6.0/introduction" target="_self">Docs</a></li><li class=""><a href="https://botpress.com/reference/" target="_self">SDK</a></li><li class=""><a href="https://forum.botpress.com/" target="_self">Community</a></li><li class=""><a href="https://github.com/botpress/botpress" target="_self">Github</a></li><li class=""><a target="_self"></a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">NLU</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="how-it-works"></a><a href="#how-it-works" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How it works</h2>
<p>The Botpress NLU module will process every incoming messages and will perform Intent Classification, Language Identification, Entity Extraction and Slot Tagging. The structure data that these tasks provide is added to the message metadata directly (under <code>event.nlu</code>), ready to be consumed by the other modules and components.</p>
<blockquote>
<p><strong>QnA</strong>: A simple use-case for bots is to understand a question and to provide an answer automatically. Doing that manually for all the questions and answers using the NLU module and the flow editor would be a tedious task, which is why we recommend using the QnA module for that instead.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="intent-classification"></a><a href="#intent-classification" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Intent Classification</h2>
<p>Intent classification helps you detect the intent of the users. It is a better and more accurate way to understand what the user is trying to say than using keywords.</p>
<h5><a class="anchor" aria-hidden="true" id="examples"></a><a href="#examples" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Examples</h5>
<table>
<thead>
<tr><th style="text-align:center">User said</th><th style="text-align:center">Intent</th><th style="text-align:center">Confidence</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center"><em>&quot;I want to fly to Dubai tomorrow&quot;</em></td><td style="text-align:center">search_flight</td><td style="text-align:center">0.98</td></tr>
<tr><td style="text-align:center"><em>&quot;My flight is delayed, help!&quot;</em></td><td style="text-align:center">faq_flight_delayed</td><td style="text-align:center">0.82</td></tr>
<tr><td style="text-align:center"><em>&quot;Can I bring a pet aboard?&quot;</em></td><td style="text-align:center">faq_pet</td><td style="text-align:center">0.85</td></tr>
</tbody>
</table>
<h3><a class="anchor" aria-hidden="true" id="adding-an-intent"></a><a href="#adding-an-intent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding an intent</h3>
<p>To create a new intent, navigate to the NLU module then click &quot;<strong>Create new intent</strong>&quot;. Give it a friendly name, then hit OK. You should now add &quot;utterances&quot; of that intent – that is, add as many ways of expressing that intent as possible.</p>
<h5><a class="anchor" aria-hidden="true" id="flight-booking-example"></a><a href="#flight-booking-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flight Booking Example</h5>
<pre><code class="hljs css language-yaml"><span class="hljs-bullet">-</span> <span class="hljs-string">book</span> <span class="hljs-string">flight</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">i</span> <span class="hljs-string">want</span> <span class="hljs-string">to</span> <span class="hljs-string">book</span> <span class="hljs-string">a</span> <span class="hljs-string">flight</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">i</span> <span class="hljs-string">want</span> <span class="hljs-string">to</span> <span class="hljs-string">fly</span> <span class="hljs-string">to</span> <span class="hljs-string">new</span> <span class="hljs-string">york</span> <span class="hljs-string">tomorrow</span>
<span class="hljs-bullet">-</span> <span class="hljs-string">show</span> <span class="hljs-string">me</span> <span class="hljs-string">travel</span> <span class="hljs-string">options</span> <span class="hljs-string">from</span> <span class="hljs-string">montreal</span> <span class="hljs-string">to</span> <span class="hljs-string">tokyo</span>
<span class="hljs-comment"># provide as many as you can</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="responding-to-an-intent"></a><a href="#responding-to-an-intent" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Responding to an intent</h3>
<p>You may detect and reply to intents by looking up the <code>event.nlu.intent.name</code> variable in your hooks, flow transitions or actions.</p>
<p>Here's an example of the structure of an incoming event processed by Botpress Native NLU.</p>
<pre><code class="hljs css language-js">{
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
  <span class="hljs-string">"channel"</span>: <span class="hljs-string">"web"</span>,
  <span class="hljs-string">"direction"</span>: <span class="hljs-string">"incoming"</span>,
  <span class="hljs-string">"payload"</span>: {
    <span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>,
    <span class="hljs-string">"text"</span>: <span class="hljs-string">"hey"</span>
  },
  <span class="hljs-string">"target"</span>: <span class="hljs-string">"AwIiKCRH4gH2GBJgQZd7q"</span>,
  <span class="hljs-string">"botId"</span>: <span class="hljs-string">"my-new-bot"</span>,
  <span class="hljs-string">"threadId"</span>: <span class="hljs-string">"5"</span>,
  <span class="hljs-string">"id"</span>: <span class="hljs-number">1.5420658919105e+17</span>,
  <span class="hljs-string">"preview"</span>: <span class="hljs-string">"hey"</span>,
  <span class="hljs-string">"flags"</span>: {},
  <span class="hljs-string">"nlu"</span>: { <span class="hljs-comment">// &lt;&lt;&lt;&lt;------</span>
    <span class="hljs-string">"language"</span>: <span class="hljs-string">"en"</span>, <span class="hljs-comment">// language identified</span>
    <span class="hljs-string">"intent"</span>: { <span class="hljs-comment">// most likely intent, assuming confidence is within config threshold</span>
      <span class="hljs-string">"name"</span>: <span class="hljs-string">"hello"</span>,
      <span class="hljs-string">"confidence"</span>: <span class="hljs-number">1</span>
    },
    <span class="hljs-string">"intents"</span>: [ <span class="hljs-comment">// all the intents detected, sorted by probabilities</span>
      {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"hello"</span>,
        <span class="hljs-string">"confidence"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"provider"</span>: <span class="hljs-string">"native"</span>
      },
      {
        <span class="hljs-string">"name"</span>: <span class="hljs-string">"none"</span>,
        <span class="hljs-string">"confidence"</span>: <span class="hljs-number">1.94931e-8</span>,
        <span class="hljs-string">"provider"</span>: <span class="hljs-string">"native"</span>
      }
    ],
    <span class="hljs-string">"entities"</span>: [], <span class="hljs-comment">// extracted entities</span>
    <span class="hljs-string">"slots"</span> : {} <span class="hljs-comment">// extracted slots</span>
  }
}
</code></pre>
<p>You can use that metadata in your flows to create transitions when a specific intent is understood inside a specific flow. You can learn more about flows and transitions <a href="/docs/build/dialogs">here</a>.</p>
<h5><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h5>
<p><img src="/botpress-docs/docs/assets/flow-nlu-transition.jpg" alt="Flow NLU Transition"></p>
<h3><a class="anchor" aria-hidden="true" id="confidence-and-debugging"></a><a href="#confidence-and-debugging" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Confidence and debugging</h3>
<p>To enable debugging of the NLU module, make sure that <code>debugModeEnabled</code> is set to <code>true</code> in your <code>data/global/config/nlu.json</code> file.</p>
<blockquote>
<p><strong>Tip</strong>: In production, you can also use the <code>BP_NLU_DEBUGMODEENABLED</code> environment variable instead of modifying the configuration directly.</p>
</blockquote>
<h5><a class="anchor" aria-hidden="true" id="example-of-debugging-message"></a><a href="#example-of-debugging-message" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example of debugging message</h5>
<p>NLU Extraction</p>
<pre><code class="hljs css language-js">{ <span class="hljs-attr">text</span>: <span class="hljs-string">'they there bud'</span>,
  <span class="hljs-attr">intent</span>: <span class="hljs-string">'hello'</span>,
  <span class="hljs-attr">confidence</span>: <span class="hljs-number">0.966797</span>,
  <span class="hljs-attr">bot_min_confidence</span>: <span class="hljs-number">0.3</span>,
  <span class="hljs-attr">bot_max_confidence</span>: <span class="hljs-number">100</span>,
  <span class="hljs-attr">is_confident_enough</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">language</span>: <span class="hljs-string">'en'</span>,
  <span class="hljs-attr">entities</span>: []
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="entity-extraction"></a><a href="#entity-extraction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Entity Extraction</h2>
<p>Entity Extraction helps you extract and normalize known entities from phrases.</p>
<p>Attached to NLU extraction, you will find an entities property which is an array of <a href="#system-entities">System</a> and <a href="#custom-entities">Custom</a> entities.</p>
<h4><a class="anchor" aria-hidden="true" id="using-entities"></a><a href="#using-entities" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using entities</h4>
<p>You may access and use data by looking up the <code>event.nlu.entities</code> variable in your hooks, flow transitions or actions.</p>
<h5><a class="anchor" aria-hidden="true" id="example-of-extracted-entity"></a><a href="#example-of-extracted-entity" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example of extracted entity:</h5>
<p>User said : <code>Let's go for a five miles run</code></p>
<pre><code class="hljs css language-js">{
  <span class="hljs-comment">/* ... other event nlu properties ... */</span>
  <span class="hljs-attr">entities</span>: [
    {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'distance'</span>,
      <span class="hljs-attr">meta</span>: {
        <span class="hljs-attr">confidence</span>: <span class="hljs-number">1</span>
        <span class="hljs-attr">provider</span>: <span class="hljs-string">'native'</span>,
        <span class="hljs-attr">source</span>: <span class="hljs-string">'five miles'</span>, <span class="hljs-comment">// text from which the entity was extracted</span>
        <span class="hljs-attr">start</span>: <span class="hljs-number">15</span>, <span class="hljs-comment">// beginning character index in the input</span>
        <span class="hljs-attr">end</span>: <span class="hljs-number">25</span>, <span class="hljs-comment">// end character index in the input</span>
      },
      <span class="hljs-attr">data</span>: {
        <span class="hljs-attr">value</span> : <span class="hljs-number">5</span>,
        <span class="hljs-attr">unit</span>: <span class="hljs-string">'mile'</span>,
        <span class="hljs-attr">extras</span>: {}
      }
    },
    {
      <span class="hljs-attr">type</span>: <span class="hljs-string">'numeral'</span>,
      <span class="hljs-attr">meta</span>: {
        <span class="hljs-attr">confidence</span>: <span class="hljs-number">1</span>
        <span class="hljs-attr">provider</span>: <span class="hljs-string">'native'</span>,
        <span class="hljs-attr">source</span>: <span class="hljs-string">'five'</span>, <span class="hljs-comment">// text from which the entity was extracted</span>
        <span class="hljs-attr">start</span>: <span class="hljs-number">15</span>, <span class="hljs-comment">// beginning character index in the input</span>
        <span class="hljs-attr">end</span>: <span class="hljs-number">19</span>, <span class="hljs-comment">// end character index in the input</span>
      },
      <span class="hljs-attr">data</span>: {
        <span class="hljs-attr">value</span> : <span class="hljs-number">5</span>,
        <span class="hljs-attr">extras</span>: {}
      }
    }
  ]
}
</code></pre>
<p><strong>Note</strong>: In some cases you will find additional structured information in the extras object</p>
<h3><a class="anchor" aria-hidden="true" id="system-entities"></a><a href="#system-entities" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>System Entities</h3>
<h4><a class="anchor" aria-hidden="true" id="duckling-extraction"></a><a href="#duckling-extraction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Duckling extraction</h4>
<p>Botpress Native NLU offers a handful of system entity extraction thanks to <a href="https://github.com/facebook/duckling">Facebook/Duckling</a> for known entity extraction like Time, Ordinals, Date, etc. For a complete list of system entities, please head to <a href="https://github.com/facebook/duckling">Duckling documentation</a>.</p>
<p>At the moment, Duckling is hosted on our remote servers. If you don't want your data to be sent to our servers, you can either disable this feature by setting <code>ducklingEnabled</code> to <code>false</code> or host your own duckling server and change the <code>ducklingURL</code> to the <code>data/global/config/nlu.json</code> config file.</p>
<p>For instructions on how to host your own Duckling server, please check the section <a href="../deploy/hosting">Hosting &amp; Environment</a></p>
<h5><a class="anchor" aria-hidden="true" id="example-1"></a><a href="#example-1" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h5>
<table>
<thead>
<tr><th style="text-align:center">User said</th><th style="text-align:center">Type</th><th style="text-align:center">Value</th><th style="text-align:center">Unit</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center"><em>&quot;Add 5 lbs of sugar to my cart&quot;</em></td><td style="text-align:center">&quot;quantity&quot;</td><td style="text-align:center">5</td><td style="text-align:center">&quot;pound&quot;</td></tr>
</tbody>
</table>
<pre><code class="hljs css language-js">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'quantity'</span>,
  <span class="hljs-attr">meta</span>: {
    <span class="hljs-attr">confidence</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">provider</span>: <span class="hljs-string">'native'</span>,
    <span class="hljs-attr">source</span>: <span class="hljs-string">'5 lbs'</span>, <span class="hljs-comment">// text from which the entity was extracted</span>
    <span class="hljs-attr">start</span>: <span class="hljs-number">4</span>, <span class="hljs-comment">// beginning character index in original input</span>
    <span class="hljs-attr">end</span>: <span class="hljs-number">9</span>, <span class="hljs-comment">// end character index in original input</span>
  },
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">value</span> : <span class="hljs-number">5</span>,
    <span class="hljs-attr">unit</span>: <span class="hljs-string">'pound'</span>,
    <span class="hljs-attr">extras</span>: {}
  }
}
</code></pre>
<p><strong>Note</strong>: Confidence will always be 1 due to the rule based implementation of Duckling</p>
<h4><a class="anchor" aria-hidden="true" id="placeholder-extraction-experimental"></a><a href="#placeholder-extraction-experimental" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Placeholder extraction (experimental)</h4>
<p>Botpress Native NLU also ships a system entity of type <code>any</code> which is essentially a placeholder. This feature is working but requires a lot of training data. Before identifying slots <a href="#slots">see slots docs</a> as entity type <code>any</code>, try to use custom entities.</p>
<p>An example of placeholder entity would be : Please tell <strong>Sarah</strong> that <strong>she's late</strong></p>
<h3><a class="anchor" aria-hidden="true" id="custom-entities"></a><a href="#custom-entities" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Entities</h3>
<p>As of today we provide 2 types of custom entities: <a href="#pattern-extraction">pattern</a> and <a href="#list-extraction">list</a> entities. To define a custom entity, head to the <strong>Entity section</strong> of the Understanding Module in your botpress studio side bar. From there you'll be able to define your custom entities that will be available for any input message treated by your chatbot. Go ahead and click on <strong>create new entity</strong></p>
<p><img src="/docs/assets/nlu-create-entity.png"></p>
<h3><a class="anchor" aria-hidden="true" id="sensitive-information"></a><a href="#sensitive-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sensitive Information</h3>
<p>Communication between users and bots are stored in the database, which means that sometimes personal information (eg: credit card) may be persisted as well. To avoid that problem, it is possible to tell Botpress that certain entities are not to be persisted. When creating or editing an Entity, there is a small checkbox located in the upper right corner labeled <code>sensitive</code>.</p>
<p>When checked, the information will still be displayed in the chat window, but the sensitive information will be replaced by <code>*****</code> before being stored. The original value is still available from <code>event.nlu.entities</code></p>
<h4><a class="anchor" aria-hidden="true" id="pattern-extraction"></a><a href="#pattern-extraction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pattern extraction</h4>
<p>Once you've created a pattern entity, Botpress Native NLU will perform a regex extraction on each incoming message and add it to <code>event.nlu.entities</code>.</p>
<h5><a class="anchor" aria-hidden="true" id="example-"></a><a href="#example-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example :</h5>
<p>Given a Pattern Entity definition with <code>[A-Z]{3}-[0-9]{4}-[A-Z]{3}</code> as pattern:</p>
<p><img src="/botpress-docs/docs/assets/nlu-pattern-entity.png" alt="create slot"></p>
<p>Extraction will go like:</p>
<table>
<thead>
<tr><th style="text-align:center">User said</th><th style="text-align:center">Type</th><th style="text-align:center">Value</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center"><em>&quot;Find product BHZ-1234-UYT&quot;</em></td><td style="text-align:center">&quot;SKU&quot;</td><td style="text-align:center">&quot;BHZ-1234-UYT&quot;</td></tr>
</tbody>
</table>
<pre><code class="hljs css language-js">{ <span class="hljs-attr">name</span>: <span class="hljs-string">'SKU'</span>,
  <span class="hljs-attr">type</span>: <span class="hljs-string">'pattern'</span>,
  <span class="hljs-attr">meta</span>:
   { <span class="hljs-attr">confidence</span>: <span class="hljs-number">1</span>,
     <span class="hljs-attr">provider</span>: <span class="hljs-string">'native'</span>,
     <span class="hljs-attr">source</span>: <span class="hljs-string">'BHZ-1234-UYT'</span>,
     <span class="hljs-attr">start</span>: <span class="hljs-number">13</span>,
     <span class="hljs-attr">end</span>: <span class="hljs-number">25</span>,
     <span class="hljs-attr">raw</span>: {} },
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">extras</span>: {},
    <span class="hljs-attr">value</span>: <span class="hljs-string">'BHZ-1234-UYT'</span>,
    <span class="hljs-attr">unit</span>: <span class="hljs-string">'string'</span>
    }
}
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="list-extraction"></a><a href="#list-extraction" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>List extraction</h4>
<p>List extraction will behave in a similar way. The major addition is that for your entity definition, you'll be able to add different <strong>occurrences</strong> of your entity with corresponding synonyms.</p>
<p>Let's take <strong>Airport Codes</strong> as an example:</p>
<p><img src="/botpress-docs/docs/assets/nlu-list-entity.png" alt="create slot"></p>
<p>Extraction will go like:</p>
<table>
<thead>
<tr><th style="text-align:center">User said</th><th style="text-align:center">Type</th><th style="text-align:center">Value</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center"><em>&quot;Find a flight from SFO to Mumbai&quot;</em></td><td style="text-align:center">&quot;Airport Codes&quot;</td><td style="text-align:center">[&quot;SFO&quot;, &quot;BOM&quot;]</td></tr>
</tbody>
</table>
<pre><code class="hljs css language-js">;[
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Airport Codes'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'list'</span>,
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">confidence</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">provider</span>: <span class="hljs-string">'native'</span>,
      <span class="hljs-attr">source</span>: <span class="hljs-string">'SFO'</span>,
      <span class="hljs-attr">start</span>: <span class="hljs-number">19</span>,
      <span class="hljs-attr">end</span>: <span class="hljs-number">22</span>,
      <span class="hljs-attr">raw</span>: {}
    },
    <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">extras</span>: {},
      <span class="hljs-attr">value</span>: <span class="hljs-string">'SFO'</span>,
      <span class="hljs-attr">unit</span>: <span class="hljs-string">'string'</span>
    }
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Airport Codes'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'list'</span>,
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">confidence</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">provider</span>: <span class="hljs-string">'native'</span>,
      <span class="hljs-attr">source</span>: <span class="hljs-string">'Mumbai'</span>,
      <span class="hljs-attr">start</span>: <span class="hljs-number">26</span>,
      <span class="hljs-attr">end</span>: <span class="hljs-number">32</span>,
      <span class="hljs-attr">raw</span>: {}
    },
    <span class="hljs-attr">data</span>: {
      <span class="hljs-attr">extras</span>: {},
      <span class="hljs-attr">value</span>: <span class="hljs-string">'BOM'</span>,
      <span class="hljs-attr">unit</span>: <span class="hljs-string">'string'</span>
    }
  }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="slots"></a><a href="#slots" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slots</h2>
<p>Slots are another major concept in Botpress NLU. You can think of them as necessary <strong>parameters</strong> to complete the action associated to an intent.</p>
<h3><a class="anchor" aria-hidden="true" id="slot-tagging"></a><a href="#slot-tagging" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slot Tagging</h3>
<p>Botpress Native NLU will tag each <em>words</em> (tokens) of user input. If it's correctly identified as an intent slot it will be attached to NLU extraction event. Each identified slot will be accessible in the <code>event.nlu.slots</code> map using its name as key.</p>
<p>To define a slot for a particular intent, head to the <strong>Intent section</strong> of the Understanding Module in your Botpress Studio side bar. From there select the intent you want to add slots to, then you'll be able to define your slots. Go ahead and click on <strong>create a slot</strong></p>
<p><img src="/botpress-docs/docs/assets/nlu-create-slot.png" alt="create slot"></p>
<p>Let's use a <code>find_flight</code> intent. In order to book a flight, we'll define 2 slots: <code>airport_from</code> and <code>airport_to</code> both associated with the <code>Airport Codes</code> custom list entity. Once that is done, we need to identify every airport slots.</p>
<p><img src="/botpress-docs/docs/assets/nlu-tag-slot.png" alt="tag slots"></p>
<h4><a class="anchor" aria-hidden="true" id="example-2"></a><a href="#example-2" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h4>
<p>User said : <code>I would like to go to SFO from Mumbai</code></p>
<p><code>event.nlu.slots</code> will look like</p>
<pre><code class="hljs css language-js">slots : {
  <span class="hljs-attr">airport_to</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'airport_to'</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-string">'SFO'</span>, <span class="hljs-comment">// shorthand for entity.data.value</span>
    <span class="hljs-attr">entity</span>: [<span class="hljs-built_in">Object</span>] <span class="hljs-comment">//detailed extracted entity</span>
  },
  <span class="hljs-attr">airport_from</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'airport_from'</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-string">'BOM'</span>,  <span class="hljs-comment">// shorthand for entity.data.value</span>
    <span class="hljs-attr">entity</span>: [<span class="hljs-built_in">Object</span>] <span class="hljs-comment">//detailed extracted entity</span>
  }
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="slot-filling"></a><a href="#slot-filling" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slot Filling</h3>
<p>As of now when you define an intent slot, it is considered as optional. If it's mandatory for a desired task, you'll have to handle slot filling yourself in your conversational flow design using <a href="/docs/build/dialogs">Botpress Flow Builder</a>. We plan to add support for <strong>required slots</strong> with automatic slot filling.</p>
<p><strong>TODO provide example</strong></p>
<h2><a class="anchor" aria-hidden="true" id="external-nlu-providers"></a><a href="#external-nlu-providers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>External NLU Providers</h2>
<p>Botpress NLU ships with a native NLU engine (Botpress Native NLU). The advantage of using Botpress NLU is that it is fast (both at training and evaluation time), secured (doesn't hit the cloud), predictable (you can write unit tests, the model resides on your computer) and free.</p>
<p>If for some reason you want to use an external provider, you can do so by using <a href="/docs/build/code#hooks">Hooks</a> and calling the external NLU provider via API.</p>
<blockquote>
<p><strong>Note</strong>: External providers don't work with the Botpress NLU graphical interface. We have dropped support <a href="https://github.com/botpress/botpress/pull/1170">see why</a> for two-way synchronization as there were too many issues in doing (and maintaining) that.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="example-3"></a><a href="#example-3" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h3>
<p>You can enable <strong>Recast AI</strong> by removing the <code>.</code> prefix to the <code>hooks/before_incoming_middleware/.05_recast_nlu.js</code> file.</p>
<blockquote>
<p>Feel free to contribute to Botpress to add new external NLU providers</p>
</blockquote>
<h5><a class="anchor" aria-hidden="true" id="features-by-providers"></a><a href="#features-by-providers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Features by Providers</h5>
<table>
<thead>
<tr><th style="text-align:center">Provider</th><th style="text-align:center">Intent</th><th style="text-align:center">Entity</th><th style="text-align:center">Slot tagging</th><th style="text-align:center">Lang</th><th style="text-align:center">Context</th><th style="text-align:center">Sentiment</th></tr>
</thead>
<tbody>
<tr><td style="text-align:center">Native</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center"></td></tr>
<tr><td style="text-align:center">DialogFlow</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center"></td><td style="text-align:center">X</td><td style="text-align:center"></td></tr>
<tr><td style="text-align:center">Luis</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">X</td></tr>
<tr><td style="text-align:center">Recast</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center"></td><td style="text-align:center">X</td><td style="text-align:center"></td><td style="text-align:center">X</td></tr>
<tr><td style="text-align:center">Rasa</td><td style="text-align:center">X</td><td style="text-align:center">X</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr>
</tbody>
</table>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#how-it-works">How it works</a></li><li><a href="#intent-classification">Intent Classification</a><ul class="toc-headings"><li><a href="#adding-an-intent">Adding an intent</a></li><li><a href="#responding-to-an-intent">Responding to an intent</a></li><li><a href="#confidence-and-debugging">Confidence and debugging</a></li></ul></li><li><a href="#entity-extraction">Entity Extraction</a><ul class="toc-headings"><li><a href="#system-entities">System Entities</a></li><li><a href="#custom-entities">Custom Entities</a></li><li><a href="#sensitive-information">Sensitive Information</a></li></ul></li><li><a href="#slots">Slots</a><ul class="toc-headings"><li><a href="#slot-tagging">Slot Tagging</a></li><li><a href="#slot-filling">Slot Filling</a></li></ul></li><li><a href="#external-nlu-providers">External NLU Providers</a><ul class="toc-headings"><li><a href="#example-3">Example</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Docs</h5><a href="/botpress-docs/docs/introduction">Getting Started</a><a href="https://botpress.com/reference/">API Reference</a></div><div><h5>Community</h5><a href="https://forum.botpress.com/" target="_blank" rel="noreferrer noopener">forum.botpress.com</a><a href="https://stackoverflow.com/search?q=botpress" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="https://github.com/botpress">GitHub</a><a class="github-button" href="https://github.com/botpress/botpress" data-icon="octicon-star" data-count-href="/botpress/botpress/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="https://twitter.com/getbotpress">Twitter</a></div></section><a href="https://botpress.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/botpress-docs/img/botpress.svg" alt="Botpress, Inc." width="170" height="45"/></a><section class="copyright">Copyright © 2020 Botpress, Inc.</section></footer></div></body></html>
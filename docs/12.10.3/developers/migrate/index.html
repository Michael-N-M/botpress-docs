<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Migration · | Developer&#x27;s Guide</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Migration from 11.7 to 11.8"/><meta name="docsearch:version" content="12.10.3"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Migration · | Developer&#x27;s Guide"/><meta property="og:type" content="website"/><meta property="og:url" content="https://Michael-N-M.github.io/botpress-docs/"/><meta property="og:description" content="## Migration from 11.7 to 11.8"/><meta property="og:image" content="https://Michael-N-M.github.io/botpress-docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://Michael-N-M.github.io/botpress-docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/botpress-docs/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/hotjar.js"></script><script src="/botpress-docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/botpress-docs/css/main.css"/><script src="/botpress-docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/botpress-docs/"><img class="logo" src="/botpress-docs/img/botpress_icon.svg" alt="| Developer&#x27;s Guide"/><h2 class="headerTitleWithLogo">| Developer&#x27;s Guide</h2></a><a href="/botpress-docs/versions"><h3>12.10.3</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/botpress-docs/docs/12.10.3/introduction" target="_self">Docs</a></li><li class=""><a href="https://botpress.com/reference/" target="_self">SDK</a></li><li class=""><a href="https://forum.botpress.com/" target="_self">Community</a></li><li class=""><a href="https://github.com/botpress/botpress" target="_self">Github</a></li><li class=""><a target="_self"></a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Migration</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="migration-from-117-to-118"></a><a href="#migration-from-117-to-118" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migration from 11.7 to 11.8</h2>
<h3><a class="anchor" aria-hidden="true" id="channel-web-refactor"></a><a href="#channel-web-refactor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Channel-Web Refactor</h3>
<p>There was a big refactor of the module to make it easier to customize (custom components and CSS). Every styling classes were extracted in a single file, <code>default.css</code>. If you previously customized the webchat, some changes will be required.</p>
<p>Please refer to <a href="https://github.com/botpress/botpress/tree/master/modules/channel-web/assets/default.css">default.css</a> for the different classes</p>
<h3><a class="anchor" aria-hidden="true" id="multiple-languages"></a><a href="#multiple-languages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Multiple Languages</h3>
<p>This feature should have no impact on existing users. If you have created custom content types, however, slight modifications will be required.</p>
<ul>
<li>The method <code>computePreviewText</code>, should return <code>undefined</code> if the required property is not set, instead of trying to display something</li>
</ul>
<pre><code class="hljs css language-js"><span class="hljs-comment">// For example</span>
<span class="hljs-attr">computePreviewText</span>: <span class="hljs-function"><span class="hljs-params">formData</span> =&gt;</span> <span class="hljs-string">'Text: '</span> + formData.text

<span class="hljs-comment">// Would become</span>
<span class="hljs-attr">computePreviewText</span>: <span class="hljs-function"><span class="hljs-params">formData</span> =&gt;</span> formData.text &amp;&amp; <span class="hljs-string">'Text: '</span> + formData.text
</code></pre>
<ul>
<li>When editing a language where a translation is missing, the type of the field must be <code>i18n_field</code> to display the original text of the default language.</li>
</ul>
<pre><code class="hljs css language-js"><span class="hljs-comment">// Example in the text content type:</span>
 <span class="hljs-attr">uiSchema</span>: {
  <span class="hljs-attr">text</span>: {
    <span class="hljs-comment">// This custom field includes a placeholder with the default language text</span>
    <span class="hljs-string">'ui:field'</span>: <span class="hljs-string">'i18n_field'</span>,

    <span class="hljs-comment">// This isn't mandatory, but it will display a textarea instead of a simple input field.</span>
    <span class="hljs-attr">$subtype</span>: <span class="hljs-string">'textarea'</span>
  },
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="migration-from-115-to-116"></a><a href="#migration-from-115-to-116" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migration from 11.5 to 11.6</h2>
<h3><a class="anchor" aria-hidden="true" id="custom-modules-target-developers"></a><a href="#custom-modules-target-developers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Modules (target: developers)</h3>
<p>There was a breaking change in how the views are handles by modules. Previously, the main view was <code>web.bundle.js</code> and you could define more views in the <code>liteViews</code> of the <code>package.json</code> file. This caused confusion, because only one of those views can be loaded at a time on the user's browser.</p>
<p>We've decided to remove the configurable <code>liteViews</code>. From now on, every module must include a <code>full</code> and a <code>lite</code> view, even if only one of those (or none) is used. This means that the structure must change, here's a sample of before/after:</p>
<pre><code class="hljs"><span class="hljs-comment">// This is how the structure used to be:</span>
my-<span class="hljs-keyword">module</span>/views/<span class="hljs-keyword">index</span>.jsx
my-<span class="hljs-keyword">module</span>/views/custom-skill.jsx

<span class="hljs-comment">// This is the structure you should use:</span>
my-<span class="hljs-keyword">module</span>/views/full/<span class="hljs-keyword">index</span>.jsx
my-<span class="hljs-keyword">module</span>/views/lite/<span class="hljs-keyword">index</span>.jsx
</code></pre>
<p>This change implied modifications on how modules are packaged. Please clear the <code>node_modules</code> folder of every module, then run <code>yarn build</code></p>
<p>More information: <a href="http://localhost:3001/docs/next/developers/create-module#views">http://localhost:3001/docs/next/developers/create-module#views</a></p>
<h2><a class="anchor" aria-hidden="true" id="migration-from-113-to-114"></a><a href="#migration-from-113-to-114" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migration from 11.3 to 11.4</h2>
<h3><a class="anchor" aria-hidden="true" id="teams-removed"></a><a href="#teams-removed" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Teams removed</h3>
<p>Teams have been removed in 11.4 in favor of the <strong>Workspace</strong>.
Botpress Workspace is specified by <code>workspaces.json</code> and is used to associate bots, users and roles together.</p>
<h3><a class="anchor" aria-hidden="true" id="bots-table-removed"></a><a href="#bots-table-removed" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bots table removed</h3>
<p><strong>Bots</strong> should be listed by their IDs in <code>workspaces.json</code> under <code>bots</code>.</p>
<h3><a class="anchor" aria-hidden="true" id="users-table-removed"></a><a href="#users-table-removed" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Users table removed</h3>
<p><strong>Users</strong> should be listed by their email in <code>workspaces.json</code> under <code>users</code>. All user data is stored in the workspace. This includes: email, hashed password and salt, last login, role, creation date.</p>
<h3><a class="anchor" aria-hidden="true" id="user-id---user-email"></a><a href="#user-id---user-email" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>User ID -&gt; User Email</h3>
<p>User ID has been replaced by user email.</p>
<h3><a class="anchor" aria-hidden="true" id="roles-table-removed"></a><a href="#roles-table-removed" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Roles table removed</h3>
<p><strong>Roles</strong> should be defined in <code>workspaces.json</code> under <code>roles</code>. Each user have a <em>role</em> property that should match the ID of their corresponding role.</p>
<p><strong>Rules</strong> should be defined under <code>roles</code> / <code>rules</code> and respect the same format as before e.g. <code>[{&quot;res&quot;:&quot;*&quot;,&quot;op&quot;:&quot;+r+w&quot;}, {&quot;res&quot;:&quot;admin.*&quot;,&quot;op&quot;:&quot;+r-w&quot;}]</code></p>
<blockquote>
<p>Multiple workspaces are not supported at this moment. They <em>might</em> be added in a future version.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="example"></a><a href="#example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example</h3>
<p>Below is an example of a <code>workspaces.json</code>:</p>
<pre><code class="hljs css language-json">[
  {
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Default"</span>,
    <span class="hljs-attr">"users"</span>: [
      {
        <span class="hljs-attr">"email"</span>: <span class="hljs-string">"renaud@botpress.com"</span>,
        <span class="hljs-attr">"password"</span>: <span class="hljs-string">"&lt;password&gt;"</span>,
        <span class="hljs-attr">"salt"</span>: <span class="hljs-string">"&lt;salt&gt;"</span>,
        <span class="hljs-attr">"last_ip"</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">"last_logon"</span>: <span class="hljs-string">"2019-01-28T19:45:52.490Z"</span>,
        <span class="hljs-attr">"role"</span>: <span class="hljs-string">"admin"</span>,
        <span class="hljs-attr">"created_on"</span>: <span class="hljs-string">"2019-01-28T19:45:52.492Z"</span>
      }
    ],
    <span class="hljs-attr">"bots"</span>: [<span class="hljs-string">"test"</span>],
    <span class="hljs-attr">"roles"</span>: [
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"admin"</span>,
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Administrator"</span>,
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Administrators have full access to the workspace including adding members, creating bots and synchronizing changes."</span>,
        <span class="hljs-attr">"rules"</span>: [{ <span class="hljs-attr">"res"</span>: <span class="hljs-string">"*"</span>, <span class="hljs-attr">"op"</span>: <span class="hljs-string">"+r+w"</span> }]
      },
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"dev"</span>,
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Developer"</span>,
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Developers have full read/write access to bots, including flows, content, NLU and actions"</span>,
        <span class="hljs-attr">"rules"</span>: [
          { <span class="hljs-attr">"res"</span>: <span class="hljs-string">"*"</span>, <span class="hljs-attr">"op"</span>: <span class="hljs-string">"+r+w"</span> },
          { <span class="hljs-attr">"res"</span>: <span class="hljs-string">"admin.*"</span>, <span class="hljs-attr">"op"</span>: <span class="hljs-string">"+r-w"</span> },
          { <span class="hljs-attr">"res"</span>: <span class="hljs-string">"admin.collaborators.*"</span>, <span class="hljs-attr">"op"</span>: <span class="hljs-string">"-r"</span> }
        ]
      },
      {
        <span class="hljs-attr">"id"</span>: <span class="hljs-string">"editor"</span>,
        <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Content Editor"</span>,
        <span class="hljs-attr">"description"</span>: <span class="hljs-string">"Content Editors have read/write access to content and NLU, and read-only access to flows and actions."</span>,
        <span class="hljs-attr">"rules"</span>: [
          { <span class="hljs-attr">"res"</span>: <span class="hljs-string">"*"</span>, <span class="hljs-attr">"op"</span>: <span class="hljs-string">"+r"</span> },
          { <span class="hljs-attr">"res"</span>: <span class="hljs-string">"admin.collaborators.*"</span>, <span class="hljs-attr">"op"</span>: <span class="hljs-string">"-r"</span> }
        ]
      }
    ],
    <span class="hljs-attr">"defaultRole"</span>: <span class="hljs-string">"dev"</span>,
    <span class="hljs-attr">"adminRole"</span>: <span class="hljs-string">"admin"</span>
  }
]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="migration-from-10x-to-11x"></a><a href="#migration-from-10x-to-11x" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migration from 10.x to 11.x</h2>
<p>This guide will show you how to migrate your bot from Botpress X to Botpress Server.</p>
<h3><a class="anchor" aria-hidden="true" id="bot-content"></a><a href="#bot-content" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bot content</h3>
<ol>
<li>Launch the new Botpress server</li>
<li>Create a bot with any name. Your bot files will be in <code>data/bots/bot-name/</code></li>
<li>Copy the content of <code>generated/content</code> to <code>data/bots/bot-name/content-elements</code></li>
<li>Copy the content of <code>generated/flows</code> to <code>data/bots/bot-name/flows</code></li>
<li>Copy the content of <code>generated/intents</code> to <code>data/bots/bot-name/intents</code></li>
<li>Copy the content of <code>generated/qna</code> to <code>data/bots/bot-name/qna</code></li>
</ol>
<p>If your bot is using <code>bp.dialogEngine.registerActions</code>, this is no longer supported in the new version. Each registered actions must be in a separate <code>.js</code> file in the folder <code>data/global/actions</code>.</p>
<p>If your bot has custom logic in <code>index.js</code>, such as in bp.hear, that concept has been changed. We replaced those with <a href="../build/code">hooks</a>. They allow you to intercept events and tell Botpress how to handle them.</p>
<p>Content types are handled similarly, but the UI and Renderers are now bundled in a single file.</p>
<h3><a class="anchor" aria-hidden="true" id="event-parameters"></a><a href="#event-parameters" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Event parameters</h3>
<p>One notable change is the standardization of event parameters. The term <code>platform</code> was replaced with <code>channel</code>, we now refer to a user/group with <code>target</code> and all other parameters related to the type of the event is stored in <code>payload</code>. When you send a message to a user, the payload is given to the content renderer, which returns the channel-specific payload.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> event = {
  <span class="hljs-attr">target</span>: <span class="hljs-string">'user1234'</span>,
  <span class="hljs-attr">channel</span>: <span class="hljs-string">'web'</span>,
  <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>,
  <span class="hljs-attr">payload</span>: {
    <span class="hljs-attr">text</span>: <span class="hljs-string">'Hello there'</span>,
    <span class="hljs-attr">typing</span>: <span class="hljs-literal">true</span>
  }
  <span class="hljs-attr">preview</span>: <span class="hljs-string">'Hello there'</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="database"></a><a href="#database" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Database</h3>
<p>This will require some work on your side since there is no migration script at this time. We are only listing changes in the database.</p>
<h4><a class="anchor" aria-hidden="true" id="table-kvs"></a><a href="#table-kvs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table kvs</h4>
<p>Table was renamed to srv_kvs. The column <code>botId</code> was added.</p>
<h4><a class="anchor" aria-hidden="true" id="table-web_conversations"></a><a href="#table-web_conversations" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table web_conversations</h4>
<p>Added column <code>botId</code></p>
<h4><a class="anchor" aria-hidden="true" id="table-user_tags"></a><a href="#table-user_tags" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table user_tags</h4>
<p>This concept was deprecated, there is no replacement in 11</p>
<h4><a class="anchor" aria-hidden="true" id="table-users"></a><a href="#table-users" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table users</h4>
<p>The table is now called srv_channel users. Custom fields have been removed in favor of attributes.</p>
<p>Those are stored as JSON in the <code>attributes</code> column. It gives more flexibility if you want to add more data to users.</p>
<h4><a class="anchor" aria-hidden="true" id="table-notifications"></a><a href="#table-notifications" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table notifications</h4>
<p>Table was renamed <code>srv_notifications</code> and the column <code>botId</code> was added</p>
<h4><a class="anchor" aria-hidden="true" id="table-logs"></a><a href="#table-logs" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table logs</h4>
<p>Table renamed <code>srv_logs</code> and there are multiple columns that were changed.</p>
<h4><a class="anchor" aria-hidden="true" id="table-hitl_sessions"></a><a href="#table-hitl_sessions" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Table hitl_sessions</h4>
<p>Added column <code>botId</code></p>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#migration-from-117-to-118">Migration from 11.7 to 11.8</a><ul class="toc-headings"><li><a href="#channel-web-refactor">Channel-Web Refactor</a></li><li><a href="#multiple-languages">Multiple Languages</a></li></ul></li><li><a href="#migration-from-115-to-116">Migration from 11.5 to 11.6</a><ul class="toc-headings"><li><a href="#custom-modules-target-developers">Custom Modules (target: developers)</a></li></ul></li><li><a href="#migration-from-113-to-114">Migration from 11.3 to 11.4</a><ul class="toc-headings"><li><a href="#teams-removed">Teams removed</a></li><li><a href="#bots-table-removed">Bots table removed</a></li><li><a href="#users-table-removed">Users table removed</a></li><li><a href="#user-id---user-email">User ID -&gt; User Email</a></li><li><a href="#roles-table-removed">Roles table removed</a></li><li><a href="#example">Example</a></li></ul></li><li><a href="#migration-from-10x-to-11x">Migration from 10.x to 11.x</a><ul class="toc-headings"><li><a href="#bot-content">Bot content</a></li><li><a href="#event-parameters">Event parameters</a></li><li><a href="#database">Database</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Docs</h5><a href="/botpress-docs/docs/introduction">Getting Started</a><a href="https://botpress.com/reference/">API Reference</a></div><div><h5>Community</h5><a href="https://forum.botpress.com/" target="_blank" rel="noreferrer noopener">forum.botpress.com</a><a href="https://stackoverflow.com/search?q=botpress" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="https://github.com/botpress">GitHub</a><a class="github-button" href="https://github.com/botpress/botpress" data-icon="octicon-star" data-count-href="/botpress/botpress/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="https://twitter.com/getbotpress">Twitter</a></div></section><a href="https://botpress.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/botpress-docs/img/botpress.svg" alt="Botpress, Inc." width="170" height="45"/></a><section class="copyright">Copyright © 2020 Botpress, Inc.</section></footer></div></body></html>
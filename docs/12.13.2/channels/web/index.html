<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Website Embedding · | Developer&#x27;s Guide</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Embedding"/><meta name="docsearch:version" content="12.13.2"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Website Embedding · | Developer&#x27;s Guide"/><meta property="og:type" content="website"/><meta property="og:url" content="https://Michael-N-M.github.io/botpress-docs/"/><meta property="og:description" content="## Embedding"/><meta property="og:image" content="https://Michael-N-M.github.io/botpress-docs/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://Michael-N-M.github.io/botpress-docs/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/botpress-docs/img/favicon.png"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/js/hotjar.js"></script><script src="/botpress-docs/js/scrollSpy.js"></script><link rel="stylesheet" href="/botpress-docs/css/main.css"/><script src="/botpress-docs/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/botpress-docs/"><img class="logo" src="/botpress-docs/img/botpress_icon.svg" alt="| Developer&#x27;s Guide"/><h2 class="headerTitleWithLogo">| Developer&#x27;s Guide</h2></a><a href="/botpress-docs/versions"><h3>12.13.2</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/botpress-docs/docs/12.13.2/introduction" target="_self">Docs</a></li><li class=""><a href="https://botpress.com/reference/" target="_self">SDK</a></li><li class=""><a href="https://forum.botpress.com/" target="_self">Community</a></li><li class=""><a href="https://github.com/botpress/botpress" target="_self">Github</a></li><li class=""><a target="_self"></a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Channels</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Release Notes<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/releases/migrate">Migrations</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/releases/release-notes">Release Notes</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/releases/v12_10_0">Release Notes - v12.10.0</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/introduction">Introduction</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/installation">Installation</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/quickstart">Quick Start</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/updating">Updating to New Releases</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/troubleshoot">Troubleshoot</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Main Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/glossary">Glossary</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/content">CMS</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/dialog">Dialog Engine</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/code">Actions &amp; Hooks</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/memory">Memory</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/module">Modules</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/nlu">NLU</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/main/emulator">Emulator</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced Guides<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/debug">Debug</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/authentication">Authentication Methods</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/custom-module">Custom Module</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/performances">Hardware &amp; Performances</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/hosting">Hosting</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/versions">Version Control</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/development-pipeline">Development Pipelines</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/advanced/cluster">Clustering</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Channels<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/botpress-docs/docs/12.13.2/channels/web">Website Embedding</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/channels/messenger">Facebook Messenger</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/channels/telegram">Telegram</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/channels/teams">Microsoft Teams</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/channels/converse">Converse API</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/channels/slack">Slack</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/channels/smooch">Smooch (Sunshine Conversations)</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/channels/faq">FAQ</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Tutorials<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/cluster-digital-ocean">Deploying a cluster on Digital Ocean</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/intent-matching">How to act on an intent</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/proactive">Acting Proactively</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/carousel-postback">Using Carousel Postback</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/skill-slot">How to use Slot Skill</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/skill-call-api">How to use Call API</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/external-api">Calling an API in a Custom Action</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/shortlinks">Shortlinks</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/existing-backend">Connecting your bot with your existing backend</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/database">Supported databases</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/timeouts">Timeouts</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/hitl">Human in the loop</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/jump-to">Jump To</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/interbot">Inter-bot Communication / Delegation</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/contextual-faq">Contextual FAQ</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/chat-3rd-party-OAuth">Authenticate a user against a 3rd Party OAuth</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/listen-file-changes">Listening for file changes</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/3rd-party-NLU">Using a 3rd party NLU</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/tutorials/uipath">Using the UiPath integration for Botpress</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Pro Edition<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/pro/about-pro">About</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/pro/licensing">Licensing</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/pro/rbac">Configuring RBAC</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/pro/monitoring">Monitoring &amp; Alerting</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/pro/pipelines">Bot Pipelines</a></li><li class="navListItem"><a class="navItem" href="/botpress-docs/docs/12.13.2/pro/i18n">Internationalization</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Website Embedding</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="embedding"></a><a href="#embedding" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Embedding</h2>
<p>Embedding a bot to your existing site is quite straightforward. You will need to deploy your bot to a server or hosting provider and make it accessible via a URL. You will then be able to add the following script tag to the end of your <code>index.html</code> page.</p>
<p>NB: Remember to replace &lt;your-url-here&gt; with the URL of your bot!</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"&lt;your-url-here&gt;/assets/modules/channel-web/inject.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>After the import script above you need to initialize the bot to the <code>window</code> object with the script below.</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-built_in">window</span>.botpressWebChat.init({ <span class="hljs-attr">host</span>: <span class="hljs-string">'&lt;your-url-here&gt;'</span>, <span class="hljs-attr">botId</span>: <span class="hljs-string">'&lt;your-bot-id&gt;'</span> })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>And that's it! Once you deploy the changes to your website, the bot will become available, and its button will appear.</p>
<p>There is an example included in the default botpress installation at <code>http://localhost:3000/assets/modules/channel-web/examples/embedded-webchat.html</code></p>
<h3><a class="anchor" aria-hidden="true" id="additional-options"></a><a href="#additional-options" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Additional Options</h3>
<table>
<thead>
<tr><th>Property</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>ref</td><td>The trusted reference of the user origin (generated by <a href="https://botpress.com/reference/modules/_botpress_sdk_.security.html#getmessagesignature">security sdk</a>)</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="bot-information-page"></a><a href="#bot-information-page" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Bot Information page</h2>
<p>The information page displays information like the website url, a phone number, an e-mail contact address, and links to terms of services and privacy policies. You can also include a cover picture and an avatar for your bot.</p>
<p><img src="/botpress-docs/docs/assets/webchat-bot-info.png" alt="Bot Info Page"></p>
<p>How to set up the information page:</p>
<ol>
<li>On the Admin UI, click on the link <code>Config</code> next to the name of the bot you want to change.</li>
<li>Edit your bot information in the <code>More details</code> and <code>Pictures</code> sections.</li>
<li>Edit the file <code>data/global/config/channel-web.json</code> and set <code>showBotInfoPage</code> to <code>true</code> <strong>**</strong></li>
<li>Refresh your browser.</li>
</ol>
<p>You will see the page when starting a new conversation. The page is always accessible by clicking on the information icon in the top right corner of the chat window.</p>
<blockquote>
<p><strong>**</strong> We edited the <code>global</code> configuration file for the sake of simplicity. To enable the bot information page on a single bot, you will need to copy the file <code>data/global/config/channel-web.json</code> to your bot folder <code>data/bots/BOT_NAME/config/channel-web.json</code> and edit that file.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="show-and-hide-automatically"></a><a href="#show-and-hide-automatically" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Show and hide automatically</h2>
<p>If the default Botpress button doesn't work for you, it can be changed by adding a <code>click</code> event listener to any element on the page. You will also need to pass the <code>hideWidget</code> key to your <code>init</code> function like this:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-built_in">window</span>.botpressWebChat.init({ <span class="hljs-attr">host</span>: <span class="hljs-string">'&lt;your-url-here&gt;'</span>, <span class="hljs-attr">botId</span>: <span class="hljs-string">'&lt;your-bot-id&gt;'</span>, <span class="hljs-attr">hideWidget</span>: <span class="hljs-literal">true</span> })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>Here is some sample code for adding the event listeners to your custom elements:</p>
<pre><code class="hljs css language-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'show-bp'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
    <span class="hljs-built_in">window</span>.botpressWebChat.sendEvent({ <span class="hljs-attr">type</span>: <span class="hljs-string">'show'</span> })
    <span class="hljs-built_in">window</span>.botpressWebChat.sendEvent({ <span class="hljs-attr">type</span>: <span class="hljs-string">'message'</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">'Hello!'</span> })
  })
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'hide-bp'</span>).addEventListener(<span class="hljs-string">'click'</span>, () =&gt; {
    <span class="hljs-built_in">window</span>.botpressWebChat.sendEvent({ <span class="hljs-attr">type</span>: <span class="hljs-string">'hide'</span> })
  })
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="others-events"></a><a href="#others-events" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Others events</h2>
<p>There are more events you can trigger by calling the <code>window.botpressWebChat.sendEvent()</code> function.</p>
<table>
<thead>
<tr><th>name</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td><code>show</code></td><td>This event open the webchat</td></tr>
<tr><td><code>hide</code></td><td>This event close the webchat</td></tr>
<tr><td><code>toggle</code></td><td>This event open or close the webchat depends on its current state</td></tr>
<tr><td><code>message</code></td><td>This event send a message (see example above)</td></tr>
<tr><td><code>toggleBotInfo</code></td><td>This event switches between bot infos and conversation page</td></tr>
</tbody>
</table>
<h2><a class="anchor" aria-hidden="true" id="obtaining-the-user-id-of-your-visitor"></a><a href="#obtaining-the-user-id-of-your-visitor" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Obtaining the User ID of your visitor</h2>
<p>It may be useful to fetch the current visitor ID to either save it in your database or to update some attributes in the Botpress DB.</p>
<p>Since the webchat is running in an iframe, communication between frames is done by posting messages.
The chat will dispatch an event when the user id is set, which you can listen for on your own page.</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'message'</span>, message =&gt; {
  <span class="hljs-keyword">if</span> (message.data.userId) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`The User ID is `</span> + message.data.userId)
  }
})
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="configure-at-runtime"></a><a href="#configure-at-runtime" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configure at runtime</h2>
<p>The method <code>window.botpressWebChat.configure</code> allows you to change the configuration of the chat during a conversation without having to reload the page.</p>
<h2><a class="anchor" aria-hidden="true" id="advanced-customization"></a><a href="#advanced-customization" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Customization</h2>
<p>Every message sent by the bot to a user consist of a <code>payload</code>. That payload has a <code>type</code> property, that tells the webchat how the other information included on that payload should be rendered on screen.</p>
<p>There are different ways to send that payload to the user:</p>
<ul>
<li>Sending a Content Element via the Flow Editor <a href="https://github.com/botpress/botpress/blob/master/modules/builtin/src/content-types/image.js">example here</a></li>
<li>Sending an event via Hooks or Actions <a href="https://github.com/botpress/botpress/blob/master/examples/custom-component/src/hooks/after_incoming_middleware/sendoptions.js">example here</a></li>
</ul>
<p>There are multiple types already built in Botpress (they are listed at the bottom of this page), but if you require more advanced components, you can create them easily.</p>
<h3><a class="anchor" aria-hidden="true" id="prevent-storing-sensitive-information"></a><a href="#prevent-storing-sensitive-information" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prevent storing sensitive information</h3>
<p>By default, the complete payload is stored in the database, so the information is not lost when the user refreshes the page. On some occasion, however, we may want to hide some properties deemed &quot;sensitive&quot; (ex: password, credit card, etc..).</p>
<p>To remove this information, there is a special property that you need to set: <code>sensitive</code>. Here's an example:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> payload = {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'login_prompt'</span>,
  <span class="hljs-attr">username</span>: <span class="hljs-string">'someuser'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'abc123'</span>,
  <span class="hljs-attr">sensitive</span>: [<span class="hljs-string">'password'</span>]
}

<span class="hljs-comment">// This is the information that will be persisted: { type: 'login_prompt', username: 'someuser' }</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="changing-avatar-for-messages"></a><a href="#changing-avatar-for-messages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changing avatar for messages</h3>
<p>If you need to display different bot's avatar for some of the messages (like imitating changing author) you can achieve that by setting <code>botAvatarUrl</code> like this:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> payload = {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>,
  <span class="hljs-attr">botAvatarUrl</span>: <span class="hljs-string">'http://some.url'</span>
  <span class="hljs-attr">text</span>: <span class="hljs-string">'Lorem ipsum'</span>
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="creating-a-custom-component"></a><a href="#creating-a-custom-component" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Creating a Custom Component</h2>
<p>We already have an <a href="https://github.com/botpress/botpress/tree/master/examples/custom-component">example module</a> showing how to create them, so we will just make a quick recap here. The Debugger is also implemented entirely as a custom component in the <a href="https://github.com/botpress/botpress/tree/master/modules/extensions/src/views/lite/components/debugger">extensions module</a>, so don't hesitate to take a look on how it was implemented.</p>
<p>Custom components leverages the <code>custom</code> payload type, which allows you to inject any valid React component exported from a custom module.</p>
<ol>
<li>Create a module (we have <a href="https://github.com/botpress/botpress/tree/master/examples/module-templates">example templates here</a>)</li>
<li>Develop your component</li>
<li>Export your component in the <code>lite.jsx</code> file (<a href="https://github.com/botpress/botpress/blob/master/examples/custom-component/src/views/lite/index.jsx">here's a couple of different ways to do it</a>)</li>
<li>Send a custom payload to the user:</li>
</ol>
<pre><code class="hljs css language-js">payload: {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'custom'</span> <span class="hljs-comment">// Important, this is how the magic operates</span>
  <span class="hljs-attr">module</span>: <span class="hljs-string">'myModule'</span> <span class="hljs-comment">// The name of your module, must match the one in package.json</span>
  <span class="hljs-attr">component</span>: <span class="hljs-string">'YourComponent'</span> <span class="hljs-comment">// This is the name of the component, exported from lite.jsx</span>
  <span class="hljs-comment">// Feel free to add any other properties here, they will all be passed down to your component</span>
  <span class="hljs-attr">myCustomProp1</span>: <span class="hljs-string">'somemorestuff'</span>
  <span class="hljs-attr">someOtherProperty</span>: <span class="hljs-string">'anything'</span>
}
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="what-can-i-do-in-my-component-"></a><a href="#what-can-i-do-in-my-component-" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What can I do in my component ?</h3>
<p>There are a couple of properties that are passed down to your custom component. These can be used to customize the displayed information, and/or to pursue interactions.</p>
<table>
<thead>
<tr><th>Property</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>...props</td><td>The payload properties are available on the root object (this.props.)</td></tr>
<tr><td>onSendData</td><td>This method can be used to send a payload to the bot on the behalf of the user</td></tr>
<tr><td>onFileUpload</td><td>Instead of sending an event, this will upload the specified file</td></tr>
<tr><td>sentOn</td><td>This is the timestamp of the message.</td></tr>
<tr><td>isLastGroup</td><td>Indicates if your component is part of the group of messages sent by the bot</td></tr>
<tr><td>isLastOfGroup</td><td>Indicates if your component is the last message in its group</td></tr>
<tr><td>keyboard</td><td>This object allows you to manipulate the keyboard (more below)</td></tr>
<tr><td>wrapped</td><td>Represent any child components (more below)</td></tr>
<tr><td>incomingEventId</td><td>The ID of the incoming event which was processed</td></tr>
<tr><td>store</td><td>Grants access to the MOBX store of Channel Web (more on that below)</td></tr>
</tbody>
</table>
<blockquote>
<p>isLastGroup and isLastOfGroup can be combined to let your component know if the current message is the last one the user is seeing. This can be used, for example, to display feedback buttons, a login form or anything else, that will disappear when the user continues the discussion.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="the-store"></a><a href="#the-store" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The Store</h4>
<p>The store orchestrate everything happening on the webchat: whether those buttons are displayed, which page is currently displayed, how to handle configuration changes, etc. This means that your component has a lot of flexibility. Here's a sample of the methods that you can use <a href="https://github.com/botpress/botpress/tree/master/modules/channel-web/src/views/lite/store">click here to see all of them</a>:</p>
<ul>
<li>Hide or Show the chat</li>
<li>Add or Remove header buttons</li>
<li>Change the size of the chat window</li>
<li>Send messages or payloads</li>
<li>Create a new conversation</li>
<li>Update any configuration option</li>
<li>Set a wrapper which will wrap every single message (more on that below)</li>
</ul>
<p>Basically, anything you can do while clicking on the UI can be done by your component.</p>
<h4><a class="anchor" aria-hidden="true" id="injecting-your-components"></a><a href="#injecting-your-components" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Injecting your components</h4>
<p>Some components can be replaced by your own. There are also some placeholders which doesn't have any components, but you can inject yours. When you inject a component, it will receive the original component, so you can just wrap it or change it completely. If there's a problem with your component, it will be replaced by the original one.</p>
<table>
<thead>
<tr><th>Location</th><th>Description</th></tr>
</thead>
<tbody>
<tr><td>below_conversation</td><td>This component would be displayed just below the composer</td></tr>
<tr><td>before_container</td><td>This is displayed before the chat container (the debugger uses it)</td></tr>
<tr><td>composer</td><td>This allows you to replace the zone where the user is typing</td></tr>
</tbody>
</table>
<p>How to configure them:</p>
<pre><code class="hljs css language-js"><span class="hljs-built_in">window</span>.botpressWebChat.init({
...
  overrides: {
    <span class="hljs-attr">before_container</span>: [
      {
        <span class="hljs-attr">module</span>: <span class="hljs-string">'extensions'</span>,
        <span class="hljs-attr">component</span>: <span class="hljs-string">'Debugger'</span>
      }
    ]
  }
})
</code></pre>
<h4><a class="anchor" aria-hidden="true" id="wrappers"></a><a href="#wrappers" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Wrappers</h4>
<p>Wrappers allows you to transform the content of a payload before passing it down to the renderer, or to another component. We have some <a href="https://github.com/botpress/botpress/tree/master/examples/custom-component/src/views/lite/components/Advanced.jsx">example components here</a></p>
<p>Here's an example of a wrapped text message:</p>
<pre><code class="hljs css language-js">payload: {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'custom'</span>,
  <span class="hljs-attr">module</span>: <span class="hljs-string">'myModule'</span>,
  <span class="hljs-attr">component</span>: <span class="hljs-string">'MyComponent'</span>
  <span class="hljs-attr">wrapped</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>
    <span class="hljs-attr">text</span>: <span class="hljs-string">'Hello user!'</span>
  }
}
</code></pre>
<p>It is also possible to chain multiple custom components using the <code>wrapped</code> property</p>
<h4><a class="anchor" aria-hidden="true" id="keyboards"></a><a href="#keyboards" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Keyboards</h4>
<p>Keyboard allows you to add elements before or after the composer. Keyboard items can be buttons, or any other type of valid component. Use <code>Keyboard.Prepend</code> to display it before the composer, and <code>Keyboard.Append</code> to display it after.</p>
<pre><code class="hljs css language-js">...
render(){
  <span class="hljs-comment">// First of all, import the keyboard object</span>
  <span class="hljs-keyword">const</span> Keyboard = <span class="hljs-keyword">this</span>.props.keyboard

  <span class="hljs-comment">// Create any type of component</span>
  <span class="hljs-keyword">const</span> something = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>This will be displayed over the composer, as long as visible is true<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>

  <span class="hljs-comment">// Your custom keyboard will only be displayed if that message is the last one displayed</span>
  <span class="hljs-keyword">const</span> visible = <span class="hljs-keyword">this</span>.props.isLastGroup &amp;&amp; <span class="hljs-keyword">this</span>.props.isLastOfGroup

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Keyboard.Prepend</span> <span class="hljs-attr">keyboard</span>=<span class="hljs-string">{something}</span> <span class="hljs-attr">visible</span>=<span class="hljs-string">{visible}</span>&gt;</span>
      This text will be displayed in the chat window
    <span class="hljs-tag">&lt;/<span class="hljs-name">Keyboard.Prepend</span>&gt;</span></span>à
  )
}
</code></pre>
<h5><a class="anchor" aria-hidden="true" id="using-a-button-keyboard"></a><a href="#using-a-button-keyboard" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using a Button Keyboard</h5>
<p>There is a built hook that makes it easy to add buttons to any kind of element. You can pass down an array of buttons, or an array of array of buttons.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> payload = {
  <span class="hljs-attr">type</span>: <span class="hljs-string">'text'</span>
  <span class="hljs-attr">text</span>: <span class="hljs-string">'hello'</span>,
  <span class="hljs-attr">quick_replies</span>: [
      [{ <span class="hljs-attr">label</span>: <span class="hljs-string">'row 1, button 1'</span>, <span class="hljs-attr">payload</span>: <span class="hljs-string">'something'</span> }, { <span class="hljs-attr">label</span>: <span class="hljs-string">'row 1, button 2'</span>, <span class="hljs-attr">payload</span>: <span class="hljs-string">'something'</span> }],
      [{ <span class="hljs-attr">label</span>: <span class="hljs-string">'row 2, button 1'</span>, <span class="hljs-attr">payload</span>: <span class="hljs-string">'something'</span> }],
      [{ <span class="hljs-attr">label</span>: <span class="hljs-string">'row 3, button 1'</span>, <span class="hljs-attr">payload</span>: <span class="hljs-string">'something'</span> }]
    ]
}
</code></pre>
<h1><a class="anchor" aria-hidden="true" id="customizing-web-chat-style"></a><a href="#customizing-web-chat-style" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Customizing Web Chat Style</h1>
<h2><a class="anchor" aria-hidden="true" id="step-1-styling-css"></a><a href="#step-1-styling-css" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 1: Styling (CSS)</h2>
<p>Paste the following CSS file in the <code>&lt;botpress_dir&gt;/data/assets/modules/channel-web</code> folder. Feel free to change the style here. Original Botpress theme <a href="https://github.com/botpress/botpress/blob/master/modules/channel-web/assets/default.css">can be found here</a>.</p>
<pre><code class="hljs css language-css"><span class="hljs-selector-class">.bpw-from-bot</span> <span class="hljs-selector-class">.bpw-chat-bubble</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ececec</span>;
}

<span class="hljs-selector-class">.bpw-chat-bubble</span><span class="hljs-selector-pseudo">:last-of-type</span> {
  <span class="hljs-attribute">border-bottom-right-radius</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">border-bottom-left-radius</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-class">.bpw-chat-bubble</span><span class="hljs-selector-pseudo">:first-of-type</span> {
  <span class="hljs-attribute">border-top-left-radius</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">border-top-right-radius</span>: <span class="hljs-number">20px</span>;
}

<span class="hljs-selector-class">.bpw-from-user</span> <span class="hljs-selector-class">.bpw-chat-bubble</span><span class="hljs-selector-pseudo">:last-of-type</span> {
  <span class="hljs-attribute">border-bottom-right-radius</span>: <span class="hljs-number">0px</span>;
}

<span class="hljs-selector-class">.bpw-from-bot</span> <span class="hljs-selector-class">.bpw-chat-bubble</span><span class="hljs-selector-pseudo">:last-of-type</span> {
  <span class="hljs-attribute">border-bottom-left-radius</span>: <span class="hljs-number">0px</span>;
}

<span class="hljs-selector-class">.bpw-from-user</span> <span class="hljs-selector-class">.bpw-chat-bubble</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#4278f3</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#ffffff</span>;
}

<span class="hljs-selector-class">.bpw-date-container</span> <span class="hljs-selector-class">.bpw-small-line</span> {
  <span class="hljs-attribute">border-bottom</span>: none;
}

<span class="hljs-selector-class">.bpw-date-container</span> {
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">700</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
}

<span class="hljs-selector-class">.bpw-header-container</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f8f8f8</span>;
  <span class="hljs-attribute">border-bottom</span>: none;
}

<span class="hljs-selector-class">.bpw-bot-avatar</span> <span class="hljs-selector-tag">img</span>,
<span class="hljs-selector-class">.bpw-bot-avatar</span> <span class="hljs-selector-tag">svg</span> {
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
}

<span class="hljs-selector-class">.bpw-composer</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">background</span>: none;
  <span class="hljs-attribute">border</span>: none;
}

<span class="hljs-selector-class">.bpw-composer</span> <span class="hljs-selector-tag">textarea</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#ececec</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1.25rem</span>;
  <span class="hljs-attribute">overflow</span>: hidden;
}

<span class="hljs-selector-class">.send-btn</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">28px</span>;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
  <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}

<span class="hljs-selector-class">.send-btn</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#d8d8d8</span>;
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="step-2-loading-css-file"></a><a href="#step-2-loading-css-file" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step 2: Loading CSS File</h2>
<p>Now, we need to instruct Botpress to use this custom CSS file for theming the webchat. For this, place the following code snippet in the <code>&lt;botpress_dir&gt;/data/global/hooks/after_bot_mount</code> folder. In our case, we used <code>01_create_shortlink.js</code> as the file name.</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> chatOptions = {
  <span class="hljs-attr">hideWidget</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">config</span>: {
    <span class="hljs-attr">enableReset</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">enableTranscriptDownload</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">extraStylesheet</span>: <span class="hljs-string">'/assets/modules/channel-web/chat.css'</span>
  }
}

<span class="hljs-keyword">const</span> params = {
  <span class="hljs-attr">m</span>: <span class="hljs-string">'channel-web'</span>,
  <span class="hljs-attr">v</span>: <span class="hljs-string">'Fullscreen'</span>,
  <span class="hljs-attr">options</span>: <span class="hljs-built_in">JSON</span>.stringify(chatOptions)
}

setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">try</span> {
    bp.http.deleteShortLink(botId)
  } <span class="hljs-keyword">catch</span> (e) {}

  <span class="hljs-comment">// Bot will be available at $EXTERNAL_URL/s/$BOT_NAME</span>
  bp.http.createShortLink(botId, <span class="hljs-string">`<span class="hljs-subst">${process.EXTERNAL_URL}</span>/lite/<span class="hljs-subst">${botId}</span>/`</span>, params)
}, <span class="hljs-number">500</span>)
</code></pre>
<p>Feel free to change the webchat config there, the important line to keep is the <code>extraStylesheet</code> property.</p>
<h2><a class="anchor" aria-hidden="true" id="result"></a><a href="#result" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Result</h2>
<p>Restart Botpress Server, and now your bot's default webchat will use your custom CSS theme! Here's our example:
<img src="/botpress-docs/docs/assets/webchat-customization.png" alt="WebChat Customization"></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/botpress-docs/docs/12.13.2/advanced/cluster"><span class="arrow-prev">← </span><span>Clustering</span></a><a class="docs-next button" href="/botpress-docs/docs/12.13.2/channels/messenger"><span>Facebook Messenger</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#embedding">Embedding</a><ul class="toc-headings"><li><a href="#additional-options">Additional Options</a></li></ul></li><li><a href="#bot-information-page">Bot Information page</a></li><li><a href="#show-and-hide-automatically">Show and hide automatically</a></li><li><a href="#others-events">Others events</a></li><li><a href="#obtaining-the-user-id-of-your-visitor">Obtaining the User ID of your visitor</a></li><li><a href="#configure-at-runtime">Configure at runtime</a></li><li><a href="#advanced-customization">Advanced Customization</a><ul class="toc-headings"><li><a href="#prevent-storing-sensitive-information">Prevent storing sensitive information</a></li><li><a href="#changing-avatar-for-messages">Changing avatar for messages</a></li></ul></li><li><a href="#creating-a-custom-component">Creating a Custom Component</a><ul class="toc-headings"><li><a href="#what-can-i-do-in-my-component-">What can I do in my component ?</a></li></ul></li><li><a href="#step-1-styling-css">Step 1: Styling (CSS)</a></li><li><a href="#step-2-loading-css-file">Step 2: Loading CSS File</a></li><li><a href="#result">Result</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>Docs</h5><a href="/botpress-docs/docs/introduction">Getting Started</a><a href="https://botpress.com/reference/">API Reference</a></div><div><h5>Community</h5><a href="https://forum.botpress.com/" target="_blank" rel="noreferrer noopener">forum.botpress.com</a><a href="https://stackoverflow.com/search?q=botpress" target="_blank" rel="noreferrer noopener">Stack Overflow</a></div><div><h5>More</h5><a href="https://github.com/botpress">GitHub</a><a class="github-button" href="https://github.com/botpress/botpress" data-icon="octicon-star" data-count-href="/botpress/botpress/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a><a href="https://twitter.com/getbotpress">Twitter</a></div></section><a href="https://botpress.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/botpress-docs/img/botpress.svg" alt="Botpress, Inc." width="170" height="45"/></a><section class="copyright">Copyright © 2020 Botpress, Inc.</section></footer></div></body></html>